# Project TADB FCUP 2024/2025

This project focuses on developing a solution that includes managing a PostgreSQL database, executing Python scripts for database setup, and generating reports/renderings based on the data, all orchestrated using Docker and Docker Compose to ensure an isolated and reproducible development environment.

## Project Overview

The project is structured to allow for:

1.  Defining a containerized development environment using **Docker** and **Docker Compose**.
2.  Utilizing a **PostgreSQL** database as the persistence layer.
3.  Executing **Python** scripts to interact with the database (setup, population) and to generate graphical output (rendering) using libraries like **Matplotlib**.
4.  Persistent storage for database data and generated outputs across container executions using **Docker Volumes**.

## Setup and Running

To start the environment and execute the scripts:

1.  Ensure you have Docker and Docker Compose installed on your machine.
2.  Open a terminal in the `.devcontainer/` directory (where `docker-compose.yml` is located).
3.  Build the images and start the services defined in `docker-compose.yml`. The `--build` flag is needed the first time or after modifying the `Dockerfile` or files that are copied into the image.
    ```bash
    docker compose up --build
    ```
4.  The execution will follow the order and commands defined in `docker-compose.yml` and the optional `entrypoint.sh` (or `start.sh`) script, typically starting PostgreSQL, waiting for it to be ready, executing `setup_db.py`, and finally `show_tetrominoes.py`.
5.  To stop the services:
    ```bash
    docker compose down
    ```
    This will stop and remove the containers, but by default it will **not** remove the PostgreSQL data volume (`postgres_data`) or the output directory (`./devcontainer/output` or `./output`).

## Output

Files generated by the rendering script (`show_tetrominoes.py`), such as Matplotlib plots, will be saved to the **`./output/`** directory (or `./devcontainer/output/` depending on your configuration in `docker-compose.yml`) on your host machine. This directory is mapped to the `/app/output` directory inside the container via the volume configuration.